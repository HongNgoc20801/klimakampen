/* app/globals.css */
:root { --header-h: 60px; --footer-h: 56px; }
* { box-sizing: border-box; }
html, body { height: 100%; }
body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; }
.container { max-width: 1100px; margin: 0 auto; padding: 16px; }

/* MAIN OFFSET */
.kl-main { padding-top: var(--header-h); padding-bottom: var(--footer-h); }

/* ===== HEADER (fixed) ===== */
.kl-header{
  position: fixed; inset: 0 0 auto 0; height: var(--header-h);
  display: flex; align-items: center; justify-content: space-between;
  padding: 0 16px; background: #22a320; color: #fff; z-index: 10;
}
.brand{ color:#fff; text-decoration:none; font-weight:700; letter-spacing:.3px; }

/* Desktop links */
.kl-links{ display:none; gap:16px; }
.kl-links a{ color:#fff; text-decoration:none; font-weight:500; }
@media (min-width: 900px){
  .kl-links{ display:flex; }
  .kl-klima{ display:none; }
}

/* Mobile toggle */
#lblklima{
  display:flex; flex-direction:column; justify-content:space-between;
  width:1rem; aspect-ratio:1; cursor:pointer;
}
#lblklima>div{ background:#fff; height:2px; border-radius:2px; transition:.5s; }
#cbklima{ display:none; }
#cbklima:checked + #lblklima>div:first-child{ transform: translateY(calc(.5rem - 1px)) rotate(45deg); }
#cbklima:checked + #lblklima>div:nth-child(2){ opacity:0; }
#cbklima:checked + #lblklima>div:last-child{ transform: translateY(calc(-.5rem + 1px)) rotate(-45deg); }

/* Slide menu (mobile) */
.kl-menu{
  position:fixed; left:0; right:0; top:var(--header-h);
  display:flex; flex-direction:column; gap:10px;
  padding:16px; background:#f4f4f5; transform:translateY(-100%);
  transition:.5s; z-index:9;
}
.kl-menu a{ color:#0d6606; text-decoration:none; padding:10px 6px; border-radius:8px; }
.kl-menu a:hover{ background:#e5e7eb; }
.kl-header:has(#cbklima:checked) + .kl-menu{ transform: translateY(0); }

/* ===== FOOTER ===== */
.kl-footer{
  position:fixed; left:0; right:0; bottom:0;
  background:#22a320; color:#e2e8f0; z-index:10;
  height:var(--footer-h); display:flex; align-items:center;
}
.kl-footer-row{ display:flex; align-items:center; justify-content:space-between; gap:12px; }
.kl-footer-left{ display:flex; align-items:center; gap:8px; }
.kl-footer-left .brand{ font-weight:700; }
.kl-footer-left .sep{ opacity:.6; }
.kl-footer-links{ display:none; gap:12px; }
.kl-footer-links a{ color:#e2e8f0; text-decoration:none; }
.kl-footer-links a:hover{ text-decoration:underline; }
@media (min-width:900px){ .kl-footer-links{ display:flex; } }
.kl-to-top{
  border:1px solid #334155; background:#094c06; color:#e2e8f0;
  width:32px; height:32px; border-radius:9999px; cursor:pointer;
}
.kl-to-top:hover{ background:#111827; }

/* ===== GRID & CARD ===== */
.grid{ display:grid; gap:16px; }
@media (min-width:640px){ .grid{ grid-template-columns:repeat(2,minmax(0,1fr)); } }
@media (min-width:1024px){ .grid{ grid-template-columns:repeat(3,minmax(0,1fr)); } }

.card{
  background:#fff; border:1px solid #e5e7eb; border-radius:16px;
  overflow:hidden; box-shadow:0 2px 10px rgba(0,0,0,.04);
  display:flex; flex-direction:column;
}
.card-thumb{ position:relative; width:100%; height:180px; }
.card-img{ object-fit:cover; }
.card-body{ padding:12px 14px; display:flex; flex-direction:column; gap:8px; flex:1; }
.card-title{ margin:4px 0; }
.card-text{ color:#475569; flex:1; min-height:40px; }

/* ===== BUTTON ===== */
.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:8px;
  padding:10px 14px; border-radius:12px; border:1px solid #e5e7eb; background:#fff; text-decoration:none;
}
.btn.primary{ background:#16a34a; color:#fff; border-color:#16a34a; }

/* ===== Utils ===== */
.mt24{ margin-top:24px; }
.mt12{ margin-top:12px; }
.mt8{ margin-top:8px; }

/* ===== Detail page basics ===== */
.cover { width: 100%; border-radius: 16px; margin: 12px 0; display: block; }
.paragraph { font-size: 18px; line-height: 1.65; margin: 0 0 12px; }
.titleTop { margin-top: 12px; }

#tiltak { scroll-margin-top: calc(var(--header-h) + 12px); }

/* ===== Table (generic) ===== */
.table { width:100%; border-collapse:collapse; }
.table col.left  { width:60%; }
.table col.right { width:40%; }
.table th, .table td { padding:12px 16px; border-top:1px solid #e5e7eb; }
.table thead th { border-bottom:1px solid #e5e7eb; font-weight:600; text-align:left; }
.table .num { text-align:right; font-variant-numeric: tabular-nums; white-space:nowrap; }

/* ===== Verstinger Table & Bars ===== */
.v-table-wrap{ overflow-x: auto; }

.v-simple-table{ width:100%; border-collapse: collapse; }
.v-simple-table th,
.v-simple-table td{ padding:10px 12px; border-bottom:1px solid #eef2f7; }
.v-simple-table thead th{ background:#f8fafc; text-align:left; font-weight:700; }
.v-simple-table th.rank{ width:56px; }
.v-simple-table th.value{ width:160px; text-align:right; }
.v-simple-table td.value{ text-align:right; }
.v-simple-table td.strong{ font-weight:700; }

.v-bars{ display:flex; flex-direction:column; gap:10px; }
.v-bars-row{ display:grid; grid-template-columns: 40px 1fr; align-items:center; gap:10px; }
.v-rank{ text-align:center; color:#475569; font-weight:700; }
.v-info{ display:flex; flex-direction:column; gap:6px; }
.v-label{ color:#0f172a; }
.v-track{ position:relative; }
.v-svg { display:block; width:100%; height:22px; }
.v-bg  { fill:#eef2ff; }
.v-bar { fill:#16a34a; }
.v-val{
  position:absolute; right:8px; top:50%;
  transform: translateY(-50%);
  font-size:12px; color:#fff;
  text-shadow:0 1px 2px rgba(0,0,0,.25);
}

.switch{ display:flex; gap:8px; margin-top:8px; }

/* ===== Kalkulator – khối chung ===== */
.kk-wrap{
  display: grid;
  grid-template-columns: 1fr;
  gap: 16px;
  align-items: start;
}
@media (min-width: 900px){ .kk-wrap{ grid-template-columns: 1fr 1fr; } }
@media (min-width: 1200px){ .kk-wrap.kk-wrap--3{ grid-template-columns: 1fr 1fr 1fr; } }

.kk-col{ width:100%; }
.kk-card{
  background:#fff; border:1px solid #e5e7eb; border-radius:16px;
  padding:16px; box-shadow:0 2px 10px rgba(0,0,0,.04);
}

/* Form controls (số/nhập liệu) */
.kk-grid{ display:grid; gap:14px; }
.kk-field{ display:grid; gap:6px; }
.kk-label{ font-weight:600; }
.kk-req{ color:#dc2626; margin-left:2px; }
.kk-help{ color:#6b7280; font-size:12px; }
.kk-input{
  width:100%; padding:10px 12px; border:1px solid #d1d5db; border-radius:10px; outline:none;
}
.kk-input:focus{ border-color:#16a34a; box-shadow:0 0 0 3px rgba(22,163,74,.15); }

.kk-actions{ margin-top:8px; }
.kk-actions-row{ display:flex; gap:8px; flex-wrap:wrap; }
.kk-reset{ border:1px solid #e5e7eb; background:#f8fafc; padding:8px 12px; border-radius:10px; cursor:pointer; }
.kk-reset:hover{ background:#eef2f7; }

/* Kết quả nhanh */
.kk-list{ margin:0 0 12px 0; padding-left:18px; }
.kk-total{
  display:flex; align-items:center; justify-content:space-between;
  border:1px solid #e5e7eb; background:#f8fafc;
  border-radius:12px; padding:12px 14px; margin-top:8px; margin-bottom:10px;
}
.kk-total strong{ font-size:22px; }
.kk-note{ color:#6b7280; font-size:13px; }

.kk-compare-cols{
  display:grid;
  grid-template-columns: repeat(5, minmax(0,1fr));
  gap:12px;
  align-items:end;
}
.kk-colset{ display:flex; flex-direction:column; align-items:center; gap:6px; }
.kk-bars-vert{ display:flex; align-items:flex-end; justify-content:center; }
.kk-col-label{ font-size:12px; color:#334155; text-align:center; }

/* màu cột so sánh */
.kk-bar-u{ fill:#0ea5e9; }
.kk-bar-a{ fill:#94d3a2; }
.kk-legend{ display:flex; align-items:center; gap:8px; margin-top:10px; color:#475569; font-size:13px; }
.kk-dot{ width:10px; height:10px; border-radius:9999px; display:inline-block; }
.kk-dot.user{ background:#0ea5e9; }
.kk-dot.avg{ background:#94d3a2; }
.kk-sp{ width:12px; }
.kk-total-compare{ margin-top:10px; }
.kk-actions-summary{ margin-top:12px; }

/* ===== A11y helpers ===== */
.sr-only {
  position: absolute; width: 1px; height: 1px;
  padding: 0; margin: -1px; overflow: hidden;
  clip: rect(0, 0, 1px, 1px); white-space: nowrap; border: 0;
}

/* ===== Survey (radio) ===== */
.kk-form { display: grid; gap: 14px; }
.kk-fieldset { border: 1px solid #e5e7eb; border-radius: 12px; padding: 12px; }
.kk-legend-title { font-weight: 700; margin-bottom: 8px; }
.kk-choices { display: flex; flex-wrap: wrap; gap: 8px; }
.kk-choice{
  display:inline-flex; align-items:center; gap:8px;
  border:1px solid #e5e7eb; background:#fff; padding:8px 12px;
  border-radius:12px; cursor:pointer;
  /* chặn bôi chọn văn bản – thêm prefix cho Safari/old Edge */
  -webkit-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
.kk-choice input[type="radio"] { accent-color: #16a34a; }
.kk-choice:has(input[type="radio"]:checked){
  background:#16a34a; color:#fff; border-color:#16a34a;
}

/* Wizard progress – không dùng inline style */
.wiz-topline { font-weight:600; margin-bottom:8px; }
.wiz-progress{
  width:100%;
  height:10px;
  -webkit-appearance:none;
  appearance:none;
  background:#eef2f7;
  border:none;
  border-radius:9999px;
  overflow:hidden;
}
.wiz-progress::-webkit-progress-bar{
  background:#eef2f7;
  border-radius:9999px;
}
.wiz-progress::-webkit-progress-value{
  background:#16a34a;
  border-radius:9999px;
  transition: width .3s ease;
}
.wiz-progress::-moz-progress-bar{
  background:#16a34a;
  border-radius:9999px;
  transition: width .3s ease;
}

/* Lưới 4 lựa chọn A/B/C/D (responsive) */
.kk-choices--grid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap:8px;
}
@media (min-width: 900px){
  .kk-choices--grid{ grid-template-columns: repeat(4, minmax(0,1fr)); }
}
